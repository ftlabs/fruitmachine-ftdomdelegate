(function(e){if("function"==typeof bootstrap)bootstrap("fruitmachinedomdelegate",e);else if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeFruitmachineDOMDelegate=e}else"undefined"!=typeof window?window.fruitmachineDOMDelegate=e():global.fruitmachineDOMDelegate=e()})(function(){return function(e,t,n){function r(n,i){if(!t[n]){if(!e[n]){var a="function"==typeof require&&require;if(!i&&a)return a(n,!0);if(o)return o(n,!0);throw Error("Cannot find module '"+n+"'")}var s=t[n]={exports:{}};e[n][0].call(s.exports,function(t){var o=e[n][1][t];return r(o?o:t)},s,s.exports)}return t[n].exports}for(var o="function"==typeof require&&require,i=0;n.length>i;i++)r(n[i]);return r}({1:[function(e,t){var n=e("dom-delegate");t.exports=function(e){e.on("initialize",function(){this.delegate=n()}),e.on("setup",function(){this.delegate.root(this.el)}),e.on("teardown",function(){this.delegate.root()}),e.on("destroy",function(){this.delegate.destroy(),delete this.delegate})}},{"dom-delegate":2}],2:[function(e,t){"use strict";var n=e("./delegate");t.exports=function(e){return new n(e)},t.exports.Delegate=n},{"./delegate":3}],3:[function(e,t){"use strict";function n(e){var t=this;e&&this.root(e),this.listenerMap={},this.handle=function(e){n.prototype.handle.call(t,e)}}t.exports=n,n.tagsCaseSensitive=null,n.prototype.root=function(e){var t,n=this.listenerMap;if("string"==typeof e&&(e=document.querySelector(e)),this.rootElement)for(t in n)n.hasOwnProperty(t)&&this.rootElement.removeEventListener(t,this.handle,this.captureForType(t));if(!e||!e.addEventListener)return this.rootElement&&delete this.rootElement,this;this.rootElement=e;for(t in n)n.hasOwnProperty(t)&&this.rootElement.addEventListener(t,this.handle,this.captureForType(t));return this},n.prototype.captureForType=function(e){return"error"===e},n.prototype.on=function(e,t,r,o){var i,a,s,l;if(!e)throw new TypeError("Invalid event type: "+e);if("function"==typeof t&&(r=t,t=null,o=r),void 0===o&&(o=null),"function"!=typeof r)throw new TypeError("Handler must be a type of Function");return i=this.rootElement,a=this.listenerMap,a[e]||(i&&i.addEventListener(e,this.handle,this.captureForType(e)),a[e]=[]),t?/^[a-z]+$/i.test(t)?(null===n.tagsCaseSensitive&&(n.tagsCaseSensitive="i"===document.createElement("i").tagName),l=n.tagsCaseSensitive?t:t.toUpperCase(),s=this.matchesTag):/^#[a-z0-9\-_]+$/i.test(t)?(l=t.slice(1),s=this.matchesId):(l=t,s=this.matches):(l=null,s=this.matchesRoot.bind(this)),a[e].push({selector:t,eventData:o,handler:r,matcher:s,matcherParam:l}),this},n.prototype.off=function(e,t,n){var r,o,i,a,s;if("function"==typeof t&&(n=t,t=null),i=this.listenerMap,!e){for(s in i)i.hasOwnProperty(s)&&this.off(s,t,n);return this}if(a=i[e],!a||!a.length)return this;for(r=a.length-1;r>=0;r--)o=a[r],t&&t!==o.selector||n&&n!==o.handler||a.splice(r,1);return a.length||(delete i[e],this.rootElement&&this.rootElement.removeEventListener(e,this.handle,this.captureForType(e))),this},n.prototype.handle=function(e){var t,n,r,o,i,a,s,l="ftLabsDelegateIgnore";if(e[l]!==!0)for(s=e.target,s.nodeType===Node.TEXT_NODE&&(s=s.parentNode),r=this.rootElement,a=this.listenerMap[e.type],n=a.length;s&&n;){for(t=0;n>t&&(o=a[t],o);t++)if(o.matcher.call(s,o.matcherParam,s)&&(i=this.fire(e,s,o)),i===!1)return e[l]=!0,void 0;if(s===r)break;n=a.length,s=s.parentElement}},n.prototype.fire=function(e,t,n){var r,o;return null!==n.eventData?(o=e.data,e.data=n.eventData,r=n.handler.call(t,e,t),e.data=o):r=n.handler.call(t,e,t),r},n.prototype.matches=function(e){if(e){var t=e.prototype;return t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector}}(HTMLElement),n.prototype.matchesTag=function(e,t){return e===t.tagName},n.prototype.matchesRoot=function(e,t){return this.rootElement===t},n.prototype.matchesId=function(e,t){return e===t.id},n.prototype.destroy=function(){this.off(),this.root()}},{}]},{},[1])(1)});